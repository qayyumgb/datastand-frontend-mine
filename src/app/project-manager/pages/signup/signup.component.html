<div
  class="login-page"
  [ngStyle]="{ backgroundImage: 'url(assets/img/workbench-signup-bg.jpg)' }"
>
  <div class="login-square">
    <h1 class="mb-32">Data Stand</h1>
    <form *ngIf="!hasSignedUp" [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field hideRequiredMarker="true" appearance="outline">
        <mat-label>Username</mat-label>
        <input
          matInput
          type="text"
          name="username"
          required
          formControlName="username"
        />
        <mat-error
          *ngIf="form.controls.username.invalid"
          [innerHTML]="getUsernameErrorMessage()"
        >
        </mat-error>
      </mat-form-field>
      <mat-form-field hideRequiredMarker="true" appearance="outline">
        <mat-label>First name</mat-label>
        <input
          matInput
          type="text"
          name="firstName"
          required
          formControlName="firstName"
        />
      </mat-form-field>
      <mat-form-field hideRequiredMarker="true" appearance="outline">
        <mat-label>Last name</mat-label>
        <input
          matInput
          type="text"
          name="lastName"
          required
          formControlName="lastName"
        />
      </mat-form-field>
      <mat-form-field hideRequiredMarker="true" appearance="outline">
        <mat-label>Email</mat-label>
        <input
          matInput
          type="text"
          name="email"
          required
          formControlName="email"
        />
        <mat-error
          *ngIf="form.controls.email.invalid"
          [innerHTML]="getEmailErrorMessage()"
        >
        </mat-error>
      </mat-form-field>
      <mat-form-field hideRequiredMarker="true" appearance="outline">
        <mat-label>Password</mat-label>
        <input
          #password
          matInput
          password
          type="password"
          name="password"
          required
          formControlName="password"
        />
        <mat-icon
          style="cursor: pointer"
          matSuffix
          (mousedown)="password.type = 'text'"
          (mouseup)="password.type = 'password'"
          [inline]="true"
        >
          {{ password.type == "password" ? "visibility_off" : "visibility" }}
        </mat-icon>
        <mat-error
          *ngIf="form.controls.password.invalid"
          [innerHTML]="getPasswordErrorMessage()"
        >
        </mat-error>
      </mat-form-field>
      <button
        color="primary"
        mat-raised-button
        type="submit"
        class="signup-button"
      >
        Sign up
      </button>
      <div class="sign-up">
        <span
          >Already have an account?
          <a [routerLink]="urls.LOGIN_URL">Log in</a></span
        >
      </div>
    </form>

    <div *ngIf="hasSignedUp">
      <h2>Thank you for signing up âœ¨</h2>
      <p>
        You will soon receive an email from us. Please click the link from the
        email to activate your account. You will then be able to log in.
      </p>
      <p class="happy-labeling">Happy labeling!</p>
      <button mat-raised-button [routerLink]="urls.LOGIN_URL" color="primary">
        Back to login
      </button>
    </div>
  </div>
</div>
